{"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\ADMIN\\\\Desktop\\\\restaurant\\\\my-backend\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"C:\\\\Users\\\\ADMIN\\\\Desktop\\\\restaurant\\\\my-backend\",\"filename\":\"C:\\\\Users\\\\ADMIN\\\\Desktop\\\\restaurant\\\\my-backend\\\\server.babel.js\",\"targets\":{\"android\":\"131.0.0\",\"chrome\":\"109.0.0\",\"edge\":\"128.0.0\",\"firefox\":\"115.0.0\",\"ios\":\"15.6.0\",\"opera\":\"112.0.0\",\"opera_mobile\":\"80.0.0\",\"safari\":\"15.6.0\",\"samsung\":\"25.0.0\"},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\ADMIN\\\\Desktop\\\\restaurant\\\\my-backend\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.26.0:development":{"value":{"code":"require('@babel/register')({\n  configFile: './babel.server.config.json'\n});\nrequire('./server.app.js');\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyZXF1aXJlIiwiY29uZmlnRmlsZSJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxBRE1JTlxcRGVza3RvcFxccmVzdGF1cmFudFxcbXktYmFja2VuZFxcIiwic291cmNlcyI6WyJzZXJ2ZXIuYmFiZWwuanMiXSwic291cmNlc0NvbnRlbnQiOlsicmVxdWlyZSgnQGJhYmVsL3JlZ2lzdGVyJykoe1xyXG4gICAgY29uZmlnRmlsZTogJy4vYmFiZWwuc2VydmVyLmNvbmZpZy5qc29uJ1xyXG4gIH0pO1xyXG4gIFxyXG4gIHJlcXVpcmUoJy4vc2VydmVyLmFwcC5qcycpO1xyXG4gICJdLCJtYXBwaW5ncyI6IkFBQUFBLE9BQU8sQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDO0VBQ3ZCQyxVQUFVLEVBQUU7QUFDZCxDQUFDLENBQUM7QUFFRkQsT0FBTyxDQUFDLGlCQUFpQixDQUFDIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["require","configFile"],"sourceRoot":"C:\\Users\\ADMIN\\Desktop\\restaurant\\my-backend\\","sources":["server.babel.js"],"sourcesContent":["require('@babel/register')({\r\n    configFile: './babel.server.config.json'\r\n  });\r\n  \r\n  require('./server.app.js');\r\n  "],"mappings":"AAAAA,OAAO,CAAC,iBAAiB,CAAC,CAAC;EACvBC,UAAU,EAAE;AACd,CAAC,CAAC;AAEFD,OAAO,CAAC,iBAAiB,CAAC","ignoreList":[]}},"mtime":1734420333537},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\ADMIN\\\\Desktop\\\\restaurant\\\\my-backend\\\\\",\"configFile\":false,\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"C:\\\\Users\\\\ADMIN\\\\Desktop\\\\restaurant\\\\my-backend\",\"filename\":\"C:\\\\Users\\\\ADMIN\\\\Desktop\\\\restaurant\\\\my-backend\\\\server.app.js\",\"targets\":{\"android\":\"131.0.0\",\"chrome\":\"109.0.0\",\"edge\":\"128.0.0\",\"firefox\":\"115.0.0\",\"ios\":\"15.6.0\",\"opera\":\"112.0.0\",\"opera_mobile\":\"80.0.0\",\"safari\":\"15.6.0\",\"samsung\":\"25.0.0\"},\"cloneInputAst\":true,\"babelrc\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\ADMIN\\\\Desktop\\\\restaurant\\\\my-backend\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"C:\\\\Users\\\\ADMIN\\\\Desktop\\\\restaurant\\\\node_modules\\\\@loadable\\\\babel-plugin\\\\lib\\\\index.js\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-react-jsx\",\"visitor\":{\"JSXNamespacedName\":{\"enter\":[null]},\"JSXSpreadChild\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"JSXFragment\":{\"exit\":[null]},\"JSXElement\":{\"exit\":[null]},\"JSXAttribute\":{\"enter\":[null]}},\"options\":{\"pragma\":\"React.createElement\",\"pragmaFrag\":\"React.Fragment\",\"runtime\":\"classic\",\"throwIfNamespace\":true,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-react-display-name\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-react-pure-annotations\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"bugfix-firefox-class-in-computed-class-key\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"plugin-bugfix-safari-class-field-initializer-scope\",\"visitor\":{\"ClassProperty\":{\"enter\":[null]},\"ClassPrivateProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\ADMIN\\\\Desktop\\\\restaurant\\\\my-backend\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$6\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\ADMIN\\\\Desktop\\\\restaurant\\\\my-backend\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$7\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\ADMIN\\\\Desktop\\\\restaurant\\\\my-backend\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$8\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\ADMIN\\\\Desktop\\\\restaurant\\\\my-backend\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$9\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\ADMIN\\\\Desktop\\\\restaurant\\\\my-backend\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$10\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\ADMIN\\\\Desktop\\\\restaurant\\\\my-backend\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$11\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\ADMIN\\\\Desktop\\\\restaurant\\\\my-backend\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$12\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\ADMIN\\\\Desktop\\\\restaurant\\\\my-backend\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$14\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\ADMIN\\\\Desktop\\\\restaurant\\\\my-backend\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$15\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\ADMIN\\\\Desktop\\\\restaurant\\\\my-backend\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$19\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"C:\\\\Users\\\\ADMIN\\\\Desktop\\\\restaurant\\\\my-backend\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$20\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\n// const express = require('express');\n// const connectDB = require('./db');\n// const cors = require('cors');\n// const productRoutes = require('./routes/productRoutes');\n// const paymentRoutes = require('./routes/paymentRoutes');\n// require('dotenv').config();\n\n// const app = express();\n\n// // Connect to database\n// connectDB();\n\n// app.use(cors({\n//   origin: process.env.FRONTEND_URL,\n//   methods: ['GET', 'POST', 'OPTIONS'],\n//   credentials: true, // Allow credentials (cookies, authorization headers)\n// }));\n\n// app.use(express.json()); // Parse JSON bodies\n\n// // Use routes\n// app.use('/api', productRoutes);\n// app.use('/api', paymentRoutes);\n// // Start the server\n// const PORT = process.env.PORT || 5000;\n// app.listen(PORT, () => {\n//   console.log(`Server running on port ${PORT}`);\n// });\n\nconst express = require('express');\nconst cors = require('cors');\nconst {\n  readFileSync\n} = require('fs');\nconst {\n  renderToString\n} = require('react-dom/server');\nconst {\n  StaticRouter\n} = require('react-router-dom/server');\nconst {\n  ChunkExtractor\n} = require('@loadable/server');\nconst path = require('path');\nconst connectDB = require('./db');\nconst productRoutes = require('./routes/productRoutes');\nconst paymentRoutes = require('./routes/paymentRoutes');\nrequire('dotenv').config();\n\n// Connect to database\nconnectDB();\nconst app = express();\n\n// Middleware\napp.use(cors({\n  origin: process.env.FRONTEND_URL,\n  methods: ['GET', 'POST', 'OPTIONS'],\n  credentials: true\n}));\napp.use(express.json());\napp.use(express.static(path.resolve(__dirname, 'build')));\n\n// Routes\napp.use('/api', productRoutes);\napp.use('/api', paymentRoutes);\n\n// SSR Route\napp.get('/*', (req, res) => {\n  const context = {};\n  const statsFile = path.resolve('./build/loadable-stats.json');\n  const extractor = new ChunkExtractor({\n    statsFile\n  });\n  const App = require('./src/App').default; // Adjust the path as needed\n\n  const jsx = extractor.collectChunks(/*#__PURE__*/React.createElement(StaticRouter, {\n    location: req.url,\n    context: context\n  }, /*#__PURE__*/React.createElement(App, null)));\n  const html = renderToString(jsx);\n  const indexFile = path.resolve('./build/index.html');\n  readFileSync(indexFile, 'utf8', (err, data) => {\n    if (err) {\n      console.error('Something went wrong:', err);\n      return res.status(500).send('Oops, better luck next time!');\n    }\n    return res.send(data.replace('<div id=\"root\"></div>', `<div id=\"root\">${html}</div>`));\n  });\n});\n\n// Start the server\nconst PORT = process.env.PORT || 5000;\napp.listen(PORT, () => {\n  console.log(`Server running on port ${PORT}`);\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsImNvcnMiLCJyZWFkRmlsZVN5bmMiLCJyZW5kZXJUb1N0cmluZyIsIlN0YXRpY1JvdXRlciIsIkNodW5rRXh0cmFjdG9yIiwicGF0aCIsImNvbm5lY3REQiIsInByb2R1Y3RSb3V0ZXMiLCJwYXltZW50Um91dGVzIiwiY29uZmlnIiwiYXBwIiwidXNlIiwib3JpZ2luIiwicHJvY2VzcyIsImVudiIsIkZST05URU5EX1VSTCIsIm1ldGhvZHMiLCJjcmVkZW50aWFscyIsImpzb24iLCJzdGF0aWMiLCJyZXNvbHZlIiwiX19kaXJuYW1lIiwiZ2V0IiwicmVxIiwicmVzIiwiY29udGV4dCIsInN0YXRzRmlsZSIsImV4dHJhY3RvciIsIkFwcCIsImRlZmF1bHQiLCJqc3giLCJjb2xsZWN0Q2h1bmtzIiwiUmVhY3QiLCJjcmVhdGVFbGVtZW50IiwibG9jYXRpb24iLCJ1cmwiLCJodG1sIiwiaW5kZXhGaWxlIiwiZXJyIiwiZGF0YSIsImNvbnNvbGUiLCJlcnJvciIsInN0YXR1cyIsInNlbmQiLCJyZXBsYWNlIiwiUE9SVCIsImxpc3RlbiIsImxvZyJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxBRE1JTlxcRGVza3RvcFxccmVzdGF1cmFudFxcbXktYmFja2VuZFxcIiwic291cmNlcyI6WyJzZXJ2ZXIuYXBwLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIGNvbnN0IGV4cHJlc3MgPSByZXF1aXJlKCdleHByZXNzJyk7XHJcbi8vIGNvbnN0IGNvbm5lY3REQiA9IHJlcXVpcmUoJy4vZGInKTtcclxuLy8gY29uc3QgY29ycyA9IHJlcXVpcmUoJ2NvcnMnKTtcclxuLy8gY29uc3QgcHJvZHVjdFJvdXRlcyA9IHJlcXVpcmUoJy4vcm91dGVzL3Byb2R1Y3RSb3V0ZXMnKTtcclxuLy8gY29uc3QgcGF5bWVudFJvdXRlcyA9IHJlcXVpcmUoJy4vcm91dGVzL3BheW1lbnRSb3V0ZXMnKTtcclxuLy8gcmVxdWlyZSgnZG90ZW52JykuY29uZmlnKCk7XHJcblxyXG4vLyBjb25zdCBhcHAgPSBleHByZXNzKCk7XHJcblxyXG4vLyAvLyBDb25uZWN0IHRvIGRhdGFiYXNlXHJcbi8vIGNvbm5lY3REQigpO1xyXG5cclxuLy8gYXBwLnVzZShjb3JzKHtcclxuLy8gICBvcmlnaW46IHByb2Nlc3MuZW52LkZST05URU5EX1VSTCxcclxuLy8gICBtZXRob2RzOiBbJ0dFVCcsICdQT1NUJywgJ09QVElPTlMnXSxcclxuLy8gICBjcmVkZW50aWFsczogdHJ1ZSwgLy8gQWxsb3cgY3JlZGVudGlhbHMgKGNvb2tpZXMsIGF1dGhvcml6YXRpb24gaGVhZGVycylcclxuLy8gfSkpO1xyXG5cclxuLy8gYXBwLnVzZShleHByZXNzLmpzb24oKSk7IC8vIFBhcnNlIEpTT04gYm9kaWVzXHJcblxyXG4vLyAvLyBVc2Ugcm91dGVzXHJcbi8vIGFwcC51c2UoJy9hcGknLCBwcm9kdWN0Um91dGVzKTtcclxuLy8gYXBwLnVzZSgnL2FwaScsIHBheW1lbnRSb3V0ZXMpO1xyXG4vLyAvLyBTdGFydCB0aGUgc2VydmVyXHJcbi8vIGNvbnN0IFBPUlQgPSBwcm9jZXNzLmVudi5QT1JUIHx8IDUwMDA7XHJcbi8vIGFwcC5saXN0ZW4oUE9SVCwgKCkgPT4ge1xyXG4vLyAgIGNvbnNvbGUubG9nKGBTZXJ2ZXIgcnVubmluZyBvbiBwb3J0ICR7UE9SVH1gKTtcclxuLy8gfSk7XHJcblxyXG5jb25zdCBleHByZXNzID0gcmVxdWlyZSgnZXhwcmVzcycpO1xyXG5jb25zdCBjb3JzID0gcmVxdWlyZSgnY29ycycpO1xyXG5jb25zdCB7IHJlYWRGaWxlU3luYyB9ID0gcmVxdWlyZSgnZnMnKTtcclxuY29uc3QgeyByZW5kZXJUb1N0cmluZyB9ID0gcmVxdWlyZSgncmVhY3QtZG9tL3NlcnZlcicpO1xyXG5jb25zdCB7IFN0YXRpY1JvdXRlciB9ID0gcmVxdWlyZSgncmVhY3Qtcm91dGVyLWRvbS9zZXJ2ZXInKTtcclxuY29uc3QgeyBDaHVua0V4dHJhY3RvciB9ID0gcmVxdWlyZSgnQGxvYWRhYmxlL3NlcnZlcicpO1xyXG5jb25zdCBwYXRoID0gcmVxdWlyZSgncGF0aCcpO1xyXG5jb25zdCBjb25uZWN0REIgPSByZXF1aXJlKCcuL2RiJyk7XHJcbmNvbnN0IHByb2R1Y3RSb3V0ZXMgPSByZXF1aXJlKCcuL3JvdXRlcy9wcm9kdWN0Um91dGVzJyk7XHJcbmNvbnN0IHBheW1lbnRSb3V0ZXMgPSByZXF1aXJlKCcuL3JvdXRlcy9wYXltZW50Um91dGVzJyk7XHJcbnJlcXVpcmUoJ2RvdGVudicpLmNvbmZpZygpO1xyXG5cclxuLy8gQ29ubmVjdCB0byBkYXRhYmFzZVxyXG5jb25uZWN0REIoKTtcclxuXHJcbmNvbnN0IGFwcCA9IGV4cHJlc3MoKTtcclxuXHJcbi8vIE1pZGRsZXdhcmVcclxuYXBwLnVzZShjb3JzKHtcclxuICBvcmlnaW46IHByb2Nlc3MuZW52LkZST05URU5EX1VSTCxcclxuICBtZXRob2RzOiBbJ0dFVCcsICdQT1NUJywgJ09QVElPTlMnXSxcclxuICBjcmVkZW50aWFsczogdHJ1ZSxcclxufSkpO1xyXG5hcHAudXNlKGV4cHJlc3MuanNvbigpKTtcclxuYXBwLnVzZShleHByZXNzLnN0YXRpYyhwYXRoLnJlc29sdmUoX19kaXJuYW1lLCAnYnVpbGQnKSkpO1xyXG5cclxuLy8gUm91dGVzXHJcbmFwcC51c2UoJy9hcGknLCBwcm9kdWN0Um91dGVzKTtcclxuYXBwLnVzZSgnL2FwaScsIHBheW1lbnRSb3V0ZXMpO1xyXG5cclxuLy8gU1NSIFJvdXRlXHJcbmFwcC5nZXQoJy8qJywgKHJlcSwgcmVzKSA9PiB7XHJcbiAgY29uc3QgY29udGV4dCA9IHt9O1xyXG4gIGNvbnN0IHN0YXRzRmlsZSA9IHBhdGgucmVzb2x2ZSgnLi9idWlsZC9sb2FkYWJsZS1zdGF0cy5qc29uJyk7XHJcbiAgY29uc3QgZXh0cmFjdG9yID0gbmV3IENodW5rRXh0cmFjdG9yKHsgc3RhdHNGaWxlIH0pO1xyXG5cclxuICBjb25zdCBBcHAgPSByZXF1aXJlKCcuL3NyYy9BcHAnKS5kZWZhdWx0OyAvLyBBZGp1c3QgdGhlIHBhdGggYXMgbmVlZGVkXHJcblxyXG4gIGNvbnN0IGpzeCA9IGV4dHJhY3Rvci5jb2xsZWN0Q2h1bmtzKFxyXG4gICAgPFN0YXRpY1JvdXRlciBsb2NhdGlvbj17cmVxLnVybH0gY29udGV4dD17Y29udGV4dH0+XHJcbiAgICAgIDxBcHAgLz5cclxuICAgIDwvU3RhdGljUm91dGVyPlxyXG4gICk7XHJcblxyXG4gIGNvbnN0IGh0bWwgPSByZW5kZXJUb1N0cmluZyhqc3gpO1xyXG5cclxuICBjb25zdCBpbmRleEZpbGUgPSBwYXRoLnJlc29sdmUoJy4vYnVpbGQvaW5kZXguaHRtbCcpO1xyXG4gIHJlYWRGaWxlU3luYyhpbmRleEZpbGUsICd1dGY4JywgKGVyciwgZGF0YSkgPT4ge1xyXG4gICAgaWYgKGVycikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdTb21ldGhpbmcgd2VudCB3cm9uZzonLCBlcnIpO1xyXG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLnNlbmQoJ09vcHMsIGJldHRlciBsdWNrIG5leHQgdGltZSEnKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gcmVzLnNlbmQoXHJcbiAgICAgIGRhdGEucmVwbGFjZSgnPGRpdiBpZD1cInJvb3RcIj48L2Rpdj4nLCBgPGRpdiBpZD1cInJvb3RcIj4ke2h0bWx9PC9kaXY+YClcclxuICAgICk7XHJcbiAgfSk7XHJcbn0pO1xyXG5cclxuLy8gU3RhcnQgdGhlIHNlcnZlclxyXG5jb25zdCBQT1JUID0gcHJvY2Vzcy5lbnYuUE9SVCB8fCA1MDAwO1xyXG5hcHAubGlzdGVuKFBPUlQsICgpID0+IHtcclxuICBjb25zb2xlLmxvZyhgU2VydmVyIHJ1bm5pbmcgb24gcG9ydCAke1BPUlR9YCk7XHJcbn0pO1xyXG4iXSwibWFwcGluZ3MiOiI7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FB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","map":{"version":3,"names":["express","require","cors","readFileSync","renderToString","StaticRouter","ChunkExtractor","path","connectDB","productRoutes","paymentRoutes","config","app","use","origin","process","env","FRONTEND_URL","methods","credentials","json","static","resolve","__dirname","get","req","res","context","statsFile","extractor","App","default","jsx","collectChunks","React","createElement","location","url","html","indexFile","err","data","console","error","status","send","replace","PORT","listen","log"],"sourceRoot":"C:\\Users\\ADMIN\\Desktop\\restaurant\\my-backend\\","sources":["server.app.js"],"sourcesContent":["// const express = require('express');\r\n// const connectDB = require('./db');\r\n// const cors = require('cors');\r\n// const productRoutes = require('./routes/productRoutes');\r\n// const paymentRoutes = require('./routes/paymentRoutes');\r\n// require('dotenv').config();\r\n\r\n// const app = express();\r\n\r\n// // Connect to database\r\n// connectDB();\r\n\r\n// app.use(cors({\r\n//   origin: process.env.FRONTEND_URL,\r\n//   methods: ['GET', 'POST', 'OPTIONS'],\r\n//   credentials: true, // Allow credentials (cookies, authorization headers)\r\n// }));\r\n\r\n// app.use(express.json()); // Parse JSON bodies\r\n\r\n// // Use routes\r\n// app.use('/api', productRoutes);\r\n// app.use('/api', paymentRoutes);\r\n// // Start the server\r\n// const PORT = process.env.PORT || 5000;\r\n// app.listen(PORT, () => {\r\n//   console.log(`Server running on port ${PORT}`);\r\n// });\r\n\r\nconst express = require('express');\r\nconst cors = require('cors');\r\nconst { readFileSync } = require('fs');\r\nconst { renderToString } = require('react-dom/server');\r\nconst { StaticRouter } = require('react-router-dom/server');\r\nconst { ChunkExtractor } = require('@loadable/server');\r\nconst path = require('path');\r\nconst connectDB = require('./db');\r\nconst productRoutes = require('./routes/productRoutes');\r\nconst paymentRoutes = require('./routes/paymentRoutes');\r\nrequire('dotenv').config();\r\n\r\n// Connect to database\r\nconnectDB();\r\n\r\nconst app = express();\r\n\r\n// Middleware\r\napp.use(cors({\r\n  origin: process.env.FRONTEND_URL,\r\n  methods: ['GET', 'POST', 'OPTIONS'],\r\n  credentials: true,\r\n}));\r\napp.use(express.json());\r\napp.use(express.static(path.resolve(__dirname, 'build')));\r\n\r\n// Routes\r\napp.use('/api', productRoutes);\r\napp.use('/api', paymentRoutes);\r\n\r\n// SSR Route\r\napp.get('/*', (req, res) => {\r\n  const context = {};\r\n  const statsFile = path.resolve('./build/loadable-stats.json');\r\n  const extractor = new ChunkExtractor({ statsFile });\r\n\r\n  const App = require('./src/App').default; // Adjust the path as needed\r\n\r\n  const jsx = extractor.collectChunks(\r\n    <StaticRouter location={req.url} context={context}>\r\n      <App />\r\n    </StaticRouter>\r\n  );\r\n\r\n  const html = renderToString(jsx);\r\n\r\n  const indexFile = path.resolve('./build/index.html');\r\n  readFileSync(indexFile, 'utf8', (err, data) => {\r\n    if (err) {\r\n      console.error('Something went wrong:', err);\r\n      return res.status(500).send('Oops, better luck next time!');\r\n    }\r\n\r\n    return res.send(\r\n      data.replace('<div id=\"root\"></div>', `<div id=\"root\">${html}</div>`)\r\n    );\r\n  });\r\n});\r\n\r\n// Start the server\r\nconst PORT = process.env.PORT || 5000;\r\napp.listen(PORT, () => {\r\n  console.log(`Server running on port ${PORT}`);\r\n});\r\n"],"mappings":"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","ignoreList":[]}},"mtime":1734420510723}}